<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>
    Modern Developer :: HTML & CSS Project Assignment - Product Listing
  </title>
  <meta name="description" 
        content="Modern Developer :: HTML & CSS Project Assignment 
                 - Product Listing">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <link rel="stylesheet" 
        href="https://fonts.googleapis.com/css?family=Raleway:400,300italic">
<link   rel="stylesheet" 
        href="http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700,900">
  <link rel="stylesheet" href="css/normalize.css">
  <link rel="stylesheet" href="css/showcase.css">
  <link rel="stylesheet" href="css/topBar.css">
  <link rel="stylesheet" href="css/product.css">  
</head>
<body>

  <header class="topbar" role="banner">
    <nav class="topbar__nav" role="navigation">
      <ul class="topbar__nav__list">
        <li class="nav__list__item nav__list__item--home">
          <a class="nav__link" href="index.html" title="Home Page">
            &#8962; Home
          </a>
        </li>        
        <li class="nav__list__item">
          <a  class="nav__link" 
              href="project_2.html" 
              title="Next Project">
            Next Project &#8680;
          </a>
        </li>
      </ul>
      <p class="topbar__nav__title">6: Products List</p>
    </nav>
  </header>

    <!-- PROJECT CONTENT -->
  <article id="wrapper">
    <section id="products">
      <header>
        <div class="ribbon"><span>Fashion</span></div>
        <h1>Products List</h1>
      </header>
      <div id="products-wrapper">
          <div class="section">
            <span class="thumb">
              <img src="images/278x278.png">
            </span>
            <div class="sectionContainer">
              <div class="price">
                Price: $10.00
                <div class="addToCart">
                  <span data-product-price="10" 
                        data-product-name="Product-1">
                      Add to Cart
                  </span>
                </div>
              </div>
              <div class="title">
                Product 1
              </div>
              <div class="product-description">
                <p class="product-description__paragraph">
                Lorem ipsum dolor sit amet, consectetuer adipiscing elit. 
                Aenean commodo ligula eget dolor. Aenean massa.
                </p>
              </div>
            </div>
          </div>
          <div class="section">
            <span class="thumb">
              <img src="images/278x278.png">
            </span>
            <div class="sectionContainer">
              <div class="price">
                Price: $8.00
                <div class="addToCart">
                  <span data-product-price="8"
                        data-product-name="Product-2">
                    Add to Cart
                  </span>
                </div>
              </div>
              <div class="title">
                Product 2
              </div>
              <div class="product-description">
                <p class="product-description__paragraph">
                Lorem ipsum dolor sit amet, consectetuer adipiscing elit. 
                Aenean commodo ligula eget dolor. Aenean massa.
                </p>
              </div>
            </div>
          </div>
          <div class="section rightMostSection">
            <span class="thumb">
              <img src="images/278x278.png">
            </span>
            <div class="sectionContainer">
              <div class="price">
                Price: $135.00
                <div class="addToCart">
                  <span data-product-price="135" 
                        data-product-name="Product-3">
                    Add to Cart
                  </span>
                </div>
              </div>
              <div class="title">
                Product 3
              </div>
              <div class="product-description">
                <p class="product-description__paragraph">
                Lorem ipsum dolor sit amet, consectetuer adipiscing elit. 
                Aenean commodo ligula eget dolor. Aenean massa.ÃŒ
                </p>
              </div>
            </div>
          </div>
          <div class="section">
            <span class="thumb">
              <img src="images/278x278.png">
            </span>
            <div class="sectionContainer">
              <div class="price">
                Price: $1.00
                <div class="addToCart">
                  <span data-product-price="1" 
                        data-product-name="Product-4">
                    Add to Cart
                  </span>
                </div>
              </div>
              <div class="title">
                Product 4
              </div>
              <div class="product-description">
                <p class="product-description__paragraph">
                Lorem ipsum dolor sit amet, consectetuer adipiscing elit. 
                Aenean commodo ligula eget dolor. Aenean massa.
                </p>
              </div>            
            </div>
          </div>
          <div class="section">
            <span class="thumb">
              <img src="images/278x278.png">
            </span>
            <div class="sectionContainer">
              <div class="price">
                Price: $10.00
                <div class="addToCart">
                  <span data-product-price="10" 
                        data-product-name="Product-5">
                    Add to Cart
                  </span>
                </div>
              </div>
              <div class="title">
                Product 5
              </div>
              <div class="product-description">
                <p class="product-description__paragraph">
                Lorem ipsum dolor sit amet, consectetuer adipiscing elit. 
                Aenean commodo ligula eget dolor. Aenean massa.
                </p>
              </div>
            </div>
          </div>
          <div class="section rightMostSection">
            <span class="thumb">
              <img src="images/278x278.png">
            </span>
            <div class="sectionContainer">
              <div class="price">
                Price: $20.00
                <div class="addToCart">
                  <span data-product-price="20" 
                        data-product-name="Product-6">
                    Add to Cart
                  </span>
                </div>
              </div>
              <div class="title">
                Product 6
              </div>
              <div class="product-description">
                <p class="product-description__paragraph">
                Lorem ipsum dolor sit amet, consectetuer adipiscing elit. 
                Aenean commodo ligula eget dolor. Aenean massa.
                </p>
              </div>
            </div>
          </div>
          <div class="section">
            <span class="thumb">
              <img src="images/278x278.png">
            </span>
            <div class="sectionContainer">
              <div class="price">
                Price: $310.00
                <div class="addToCart">
                  <span data-product-price="310"
                        data-product-name="Product-7">
                    Add to Cart
                  </span>
                </div>
              </div>
              <div class="title">
                Product 7
              </div>
              <div class="product-description">
                <p class="product-description__paragraph">
                Lorem ipsum dolor sit amet, consectetuer adipiscing elit. 
                Aenean commodo ligula eget dolor. Aenean massa.
                </p>
              </div>
            </div>
          </div>
          <div class="section">
            <span class="thumb">
              <img src="images/278x278.png">
            </span>
            <div class="sectionContainer">
              <div class="price">
                Price: $130.00
                <div class="addToCart">
                  <span data-product-price="130"
                        data-product-name="Product-8">
                    Add to Cart
                  </span>
                </div>
              </div>
              <div class="title">
                Product 8
              </div>
              <div class="product-description">
                <p class="product-description__paragraph">
                Lorem ipsum dolor sit amet, consectetuer adipiscing elit. 
                Aenean commodo ligula eget dolor. Aenean massa.
                </p>
              </div>
            </div>
          </div>
          <div class="section rightMostSection">
            <span class="thumb">
              <img src="images/278x278.png">
            </span>
            <div class="sectionContainer">
              <div class="price">
                Price: $5.00
                <div class="addToCart">
                  <span data-product-price="5"
                        data-product-name="Product-9">
                    Add to Cart
                  </span>
                </div>
              </div>
              <div class="title">
                Product 9
              </div>
              <div class="product-description">
                <p class="product-description__paragraph">
                Lorem ipsum dolor sit amet, consectetuer adipiscing elit. 
                Aenean commodo ligula eget dolor. Aenean massa.
                </p>
              </div>
            </div>
          </div>
          <div class="section">
            <span class="thumb">
              <img src="images/278x278.png">
            </span>
            <div class="sectionContainer">
              <div class="price">
                Price: $101.00
                <div class="addToCart">
                  <span data-product-price="101"
                        data-product-name="Product-10">
                    Add to Cart
                  </span>
                </div>
              </div>
              <div class="title">
                Product 10
              </div>
              <div class="product-description">
                <p class="product-description__paragraph">
                Lorem ipsum dolor sit amet, consectetuer adipiscing elit. 
                Aenean commodo ligula eget dolor. Aenean massa.
                </p>
              </div>
            </div>
          </div>
          <div class="section">
            <span class="thumb">
              <img src="images/278x278.png">
            </span>
            <div class="sectionContainer">
              <div class="price">
                Price: $45.00
                <div class="addToCart">
                  <span data-product-price="45"
                        data-product-name="Product-11">
                    Add to Cart
                  </span>
                </div>
              </div>
              <div class="title">
                Product 11
              </div>
              <div class="product-description">
                <p class="product-description__paragraph">
                Lorem ipsum dolor sit amet, consectetuer adipiscing elit. 
                Aenean commodo ligula eget dolor. Aenean massa.
                </p>
              </div>
            </div>
          </div>
          <div class="section">
            <span class="thumb">
              <img src="images/278x278.png">
            </span>
            <div class="sectionContainer rightMostSection">
              <div class="price">
                Price: $10.00
                <div class="addToCart">
                  <span data-product-price="10"
                        data-product-name="Product-12">
                    Add to Cart
                  </span>
                </div>
              </div>
              <div class="title">
                Product 12
              </div>
              <div class="product-description">
                <p class="product-description__paragraph">
                Lorem ipsum dolor sit amet, consectetuer adipiscing elit. 
                Aenean commodo ligula eget dolor. Aenean massa.
                </p>
              </div>
            </div>
          </div>
      </div>
    </section>
    <!-- Cart Section -->
    <section id="cart">
      <header>
        <h1 class="cartTitle">Cart details</h1>
      </header>
      <div id="cart-wrapper">
        <div class="cartSteps">
          <a class="current">Step 1</a>
          <a>Step 2</a>
          <a>Step 3</a>
          <a>Step 4</a>
        </div>
        <div id="cart-details-table">
          <table id="cart-table" class="table">
          <tbody>
          <tr>
            <td class="table__td text-center">
              <a href="">
                <img class="table__img-thumbnail" 
                     src="images/64x64.png" alt="img" title="img">
              </a>
            </td>
            <td class="table__td text-left">
              <a href="#">Product</a>          
            </td>
            <td class="table__td text-left">product 1</td>
            <td class="table__td text-left">          
              <input class="table__input 
                            table__input--text"
                     name="quantity-1" 
                     type="text" value="1">
            </td>
            <td class="table__td text-left">          
              <span class="input-group-btn">
                <input type="button" value="Remove" class="btn btn-red">
              </span>
            </td>
            <td class="table__td text-right">$45.00</td>
          </tr>
          <tr>
            <td class="table__td--separator" colspan="6"></td>
          </tr>
          <tr>
          <td class="table__td text-center">
            <a href="">
              <img class="table__img-thumbnail" 
                   src="images/64x64.png" alt="img" title="img">
            </a>
          </td>
          <td class="table__td text-left">
          <a href=#"">Product</a>
          </td>
          <td class="table__td text-left">product 2</td>
          <td class="table__td text-left">
            <input class="table__input 
                          table__input--text" 
                   name="quantity-2"
                   type="text" value="1">
          </td>
          <td class="table__td text-left">
            <span class="input-group-btn">
              <input type="button" value="Remove" class="btn btn-red">
            </span>
          </td>
          <td class="table__td text-right">$100.00</td>
          </tr>
          </tbody>
          </table>
        </div>
        <div id="coupon">
        Use Coupon Code
          <input class="table__input"
                 id="couponCode" 
                 name="couponCode"
                 type="text">
          <span class="input-group-btn">
            <input type="button" value="Apply Coupon" class="btn">
          </span>
        </div>
        <div id="total-cart-wrapper">
          <table class="table table-border">          
          <tbody>
          <tr>
            <td class="text-right">Sub-total:</td><td class="text-left">$145.00</td>
          </tr>
          <tr>
            <td class="text-right">Coupon(-5%):</td><td class="text-left">$7.25</td>
          </tr>
          <tr>
            <td class="text-right">VAT(12%):</td><td class="text-left">$16,53</td>  
          </tr>
          <tr>
            <td class="text-right">Total:</td><td class="text-left">$154,28</td>          
          </tr>
          </tbody>
          </table>
        </div>
        <div id="cart-buttons">
          <span class="input-group-btn">
            <input class="btnM keepShp"
                   type="button" 
                   value="Keep Shopping" >
          </span>
          <span class="input-group-btn">
            <input class="btnM kckOut"
                   type="button"
                   value="Checkout" >
          </span>
        </div>
      </div>
    </section>
  </article>

<script src="js/validator.js"></script>
<script>

  var addButtons = document.getElementsByClassName('addToCart'),
      cart       = document.getElementById('cart'),
      cartTable  = document.getElementById('cart-table'),
      len        = addButtons.length;

  var CartDB = {
    total: 0,
    promoCodes : {

    }
  };

    while(len--) {
        addButtons[len].addEventListener('click', function(event) {
            updateCart(this.firstChild.nextSibling, 'add');
        })
    }

    var updateCart = function(node, operation) {
      var prod  = node.getAttribute("data-product-name");
      var price = node.getAttribute("data-product-price");

      if (CartDB.total === 0) toggleCart();
      
      if (!CartDB[prod]) {
          CartDB[prod] = { 
              quantity:   0,
              unitPrice:  price
          };
          addRow({ name: prod, price: price});
      } 

      switch (operation) {
        case 'add':
            CartDB[prod].quantity += 1;
            CartDB.total = parseFloat(CartDB.total) + parseFloat(price); 
        break;
      }

    }

    // Utility functions

    function toggleCart() {

      var display = (window.getComputedStyle(cart, null).display);
      
      cart.style.display = (display === 'block') ? 'none' : 'block';

    }

    function createElem(obj) {

      var elem = document.createElement(obj.tag);
      var text;

      for (var attr in obj) {
          if (obj.hasOwnProperty(attr)) {
              if (attr === 'text') {
                  text = document.createTextNode(obj[attr]);
                  elem.appendChild(text);
              } else if (attr !== 'tag') {
                  elem.setAttribute(attr, obj[attr]);
              }              
          }
          
      }

      return elem;
    }

    function addRow(product) {
        var tr    = createElem({ tag: 'TR' }),
            tr2   = createElem({ tag: 'TR' });

        var td    = createElem({ tag: 'TD', class: 'table__td text-center' }),
            td2   = createElem({ tag: 'TD', class: 'table__td text-left' }),
            td3   = createElem({ 
              tag: 'TD', 
              class: 'table__td text-left',
              text:  product.name 
            }),
            td4   = createElem({ tag: 'TD', class: 'table__td text-left' }),
            td5   = createElem({ tag: 'TD', class: 'table__td text-left' }),
            td6   = createElem({ 
              tag: 'TD', 
              class: 'table__td text-right',
              text:  product.price 
            }),
            tdSeparator  = createElem({ 
              tag: 'TD', 
              class: 'table__td--separator',
              colspan: '6'
              });

        var a = createElem({ 
          tag: 'A',
          src: '#'
        });

        var img  = createElem({ 
          tag: 'img', 
          class: 'table__img-thumbnail',
          src: 'images/64x64.png',
          alt: 'Product Image',
          title: 'Product Image' 
        });

        var aProd = createElem({ 
          tag: 'A', 
          href: '#',
          text: 'Product'
        });

        var inpt = createElem({ 
          tag: 'input', 
          class: 'table__input table__input--text',
          name: 'product-field',
          type: 'text',
          value: '1'
        });

        var spn = createElem({
          tag: 'SPAN', 
          class: 'input-group-btn'
        });

        var inpt2 = createElem({ 
          tag: 'input', 
          class: 'btn btn-red',
          id: 'remove-product',
          type: 'button',
          value: 'Remove'
        });

        a.appendChild(img)
        td.appendChild(a);
        td2.appendChild(aProd);
        td4.appendChild(inpt);
        spn.appendChild(inpt2);
        td5.appendChild(spn);


        tr2.appendChild(td); 
        tr2.appendChild(td2); 
        tr2.appendChild(td3); 
        tr2.appendChild(td4); 
        tr2.appendChild(td5); 
        tr2.appendChild(td6); 

        tr.appendChild(tdSeparator);

        cartTable.appendChild(tr);
        cartTable.appendChild(tr2);
    }


</script>


</body>
</html>